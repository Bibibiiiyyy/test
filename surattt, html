<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport"
content="width=device-width,
initial-scale=1.0"/>
<title>Surat Kejutan ‚ù§Ô∏è</title>
<style>
  body {
        margin: 0;
        padding: 0;
        background: linear-gradient(180deg, #ffeef2, #ffd6e0);
        font-family: 'Times New Roman', Times, sans-serif;
        overflow: hidden;
        height: 100vh;
  }

  .stage {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
  }

  .envelope {
    position: relative;
    width: 250px;
    height: 160px;
    background: #ff7f9f;
    border-radius: 8px;
    transition: transform 0.8s ease;
    overflow: hidden;
  }

  .envelope.open {
    transform: translateY(-30px);
  }

  .flap {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 80px;
    background: #ffb6c1;
    clip-path: polygon(0 0, 100% 0, 50% 100%);
  }

  .front {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .open-btn, .close-btn {
    background: white;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
  }
  
  .letter {
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    height: auto;
    background: white;
    padding: 15px;
    box-sizing: border-box;
    transition: top 0.8s ease;
    text-align: center
  }

  .envelope.open .letter {
    top: 10px;
  }

  .hint {
    margin-top: 20px;
    font-size: 14px;
    color: #555;
  }

  .hearts {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
    z-index: -1;
  }

  .heart {
    position: absolute;
    top: -10px;
    font-size: 24px;
    color: red;
    animation: fall linear forwards;
  }

  @keyframes fall {
    to {
     transform: translateY(100vh);
     opacity: 0;
    }   
  }
</style>
</head>
<body>

<div class="hearts"></div>

<div class="stage">
  <div class="envelope" id="envelope">
    <div class="flap"></div>
    <div class="front">
        <button class="open-btn"
id="openBtn">Open üíå</button>
    </div>

    <div class="letter" id="letter">
      <p>
        Haii! Semangat menjalani hari yang melelahkan üíñ<br/>
        Semoga harimu penuh kebahagiaan üòç
<br/>
        Love u oll
      </p>
      <button class="close-btn"
id="closeBtn">Tutup</button>
    </div>
  </div>
  <div class="hint">Klik tombol <b>Open</b> untuk membuka surat</div>
</div>

<audio id="bgMusic" src="Kasih.mp3" preload="auto" loop></audio>

<script>
  const envelope =
document.getElementById('envelope');
  const openBtn  =
document.getElementById('openBtn');
  const closeBtn =
document.getElementById('closeBtn');
  const music    =
document.getElementById('bgMusic');

  openBtn.addEventListener('click', () =>

{
    console.log("Open clicked");
    envelope.classList.add('open');
    music.play().catch(err => console.log("Autoplay blocked:", err));
  });
  closeBtn.addEventListener('click', () =>
{
    console.log("Close clicked");
    envelope.classList.remove('open');
    music.pause();
    music.currentTime = 0;
  });

  const heartsContainer =
document.querySelector('.hearts');
  function createHeart() {
    const heart =
document.createElement('div');
    heart.classList.add('heart');
    heart.textContent = 'üíñ';
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.fontSize = (Math.random() * 20 + 20) + 'px'
    heart.style.animationDuration = (Math.random() * 3 +2) + 's';
    heartsContainer.appendChild(heart);

    setTimeout(() => {
       heart.remove();
    }, 5000);
  }
  setInterval(createHeart, 500);
</script>

</body>
</html>
        